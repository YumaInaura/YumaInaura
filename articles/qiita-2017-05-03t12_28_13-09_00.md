---
title: "Ruby on Rails | Rails5.1 ã§ rspec + capybara ã‚’å‹•ã‹ã™æœ€å°æ‰‹é †"
emoji: "ğŸ–¥"
type: "tech"
topics: ["Rails", "RSpec", "Capybara"]
published: true
published_at: 2017-05-03t12:28
---

# Rails ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ

```
rails new capybara-example
```

```
cd capybara-example
```

# é©å½“ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ãªãƒšãƒ¼ã‚¸ã‚’ä½œã‚‹

```
bundle exec rails generate scaffold User name:string
```

```
RAILS_ENV=test bundle exec rake db:migrate
```

# Rspec ã‚’è¿½åŠ ã™ã‚‹

```diff:Gemfile
gem 'rspec-rails'
```

```
bundle install
```

```
bundle exec rails generate rspec:install
```

# Capybaraã®ãƒ†ã‚¹ãƒˆã‚’ä½œã‚‹

```spec/example_spec.rb
require "rails_helper"

RSpec.feature "users" do
  scenario "access to index" do
    visit "/users"
    expect(page).to have_text("Users")
  end
end
```

# å®Ÿè¡Œ

æˆåŠŸã€‚

```
bundle exec rspec -fd spec/example_spec.rb
```

```
users
  access to index

1 example, 0 failures
```

# æ„Ÿæƒ³

rspec ã‚„ capybara ã®ä¸–ç•Œã¯å‰²ã‚Šã¨è¤‡é›‘ã§ã‚ã‚‹ã€‚

- ã©ã® gem ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½•ã‚’ generate ã™ã‚Œã°è‰¯ã„ã®ã‹ã€‚
- ã©ã“ã® config ã«ä½•ã‚’æ›¸ã‘ã°è‰¯ã„ã®ã‹ã€‚
- ä½•ã‚’ require ã™ã‚Œã°è‰¯ã„ã®ã‹ã€‚
- ã©ã® driver ã‚’ä½¿ãˆã°è‰¯ã„ã®ã‹ã€‚
- ã©ã‚“ãªè¨˜æ³•ã§ä½•ã‚’æ›¸ã‘ã°è‰¯ã„ã®ã‹ã€‚
- ãã‚Œãã‚Œã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å¾®å¦™ãªé•ã„ã‚‚ãŒã‚ã‚‹ã€‚

ã ãŒå°‘ãªãã¨ã‚‚ Rails5.1 ã§ã¯ã€ä¸Šã®ä¾‹ã§ã™ã‚“ãªã‚Šå‹•ãã£ã½ã„ã€‚

# ç’°å¢ƒ

- capybara (2.13.0)
- rspec-rails (3.5.2)
- Rails 5.1.0
- Mac OS 10.11.6








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->



# å…¬é–‹æ—¥æ™‚

2017-05-03
