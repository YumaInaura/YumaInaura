---
title: "#Rails ã§ has_many ã® inverse of ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ãªã„ã¨ã©ã†ãªã‚‹ã‹ã®å‹•ä½œãƒ¡ãƒ¢ (  rubocop Rails/"
emoji: "ğŸ–¥"
type: "idea"
topics: ["Rails"]
published: true
---

- é–¢é€£ã‚’ãŸã©ã£ã¦åŒã˜ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«è¿”ã£ã¦ããŸæ™‚ã‚‚ã€åˆ¥ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ‰±ã„ã«ãªã£ã¦ã„ã‚‹
- Rails6 ã§ç¢ºèª
- ç‰‡æ–¹ã‚’ update ã—ã¦ã‚‚ã€ã‚‚ã†ç‰‡æ–¹ã¯åˆ¥ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãªã®ã§ã€ãƒ‡ãƒ¼ã‚¿ãŒå¤ã„ã¾ã¾ã ã£ãŸã‚Šã™ã‚‹

ä»¥ä¸‹ã¯ä¾‹
model ã®çŠ¶æ…‹ã¯ã¦ãã¨ã†ã«æƒ³åƒã—ã¦ãã ã•ã„

```rb

book = User.books.first
# => #<Book:0x0000565441ce2b38

book.object_id
# => 65560

# ã¦ãã¨ã†ã«é–¢é€£ã‚’ãŸã©ã£ã¦è‡ªåˆ†è‡ªèº«ã«æˆ»ã£ã¦ãã‚‹
same_book = book.users.first.book
=# > #<Book:0x0000565440ddd048

# ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆidãŒé•ã†
same_book.object_id
# => 65580

# åˆ¥ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãªã®ã§ã€ãŸã¨ãˆã°ç‰‡æ–¹ã‚’ update ã—ã¦ã‚‚ã€ã‚‚ã†ç‰‡æ–¹ã¯å¤ã„ã¾ã¾
# reloadã—ãªã„ã¨ãƒ‡ãƒ¼ã‚¿çŠ¶æ…‹ãŒåæ˜ ã•ã‚Œãˆãªã„

# ã‚ªãƒªã‚¸ãƒŠãƒ«ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®åå‰ã‚’æ›´æ–°ã™ã‚‹
book.update!(name: "ã‚ã•ã³æœ¬")

# ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®çŠ¶æ…‹ã¯æ–°ã—ããªã‚‹
book.name
# => "ã‚ã•ã³ã®æœ¬"

# ã‚‚ã†ç‰‡æ–¹ã¯å¤ã„ã¾ã¾
same_book.name
# => "ã‹ã‚‰ã—ã®æœ¬"

# reload ã—ãªã„ã¨ DBã®çŠ¶æ…‹ã¯åæ˜ ã•ã‚Œãªã„
same_book.reload.name
# => "ã‚ã•ã³ã®æœ¬"
```

# Original by Github issue

https://github.com/YumaInaura/YumaInaura/issues/3066








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


