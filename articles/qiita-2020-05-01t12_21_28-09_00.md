---
title: "#Ruby 2.7 ã§ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¼•æ•°ã¨ãƒãƒƒã‚·ãƒ¥ã®è‡ªå‹•å¤‰æ›ãŒéæ¨å¥¨ã«ãªã£ãŸ ( deprecated hash and keyword arg"
emoji: "ğŸ–¥"
type: "tech"
topics: ["Ruby"]
published: true
---

[Ruby 2.7.0 ãƒªãƒªãƒ¼ã‚¹](https://www.ruby-lang.org/ja/news/2019/12/25/ruby-2-7-0-released/)

# æ¦‚è¦

- ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¼•æ•°ã‚’å—ã‘å–ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ãªã®ã«ã€ãƒãƒƒã‚·ãƒ¥ã‚’æ¸¡ã—ã¦ã„ã¦ã‚‚ã€ä»Šã¾ã§ã¯ç‰¹ã«ä½•ã‚‚æ€’ã‚‰ã‚Œãªã‹ã£ãŸ
- ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¼•æ•°ã‚’å—ã‘å–ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã«ã¯ã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¼•æ•°ã‚’æ¸¡ã™ã‚ˆã†ã«ã™ã‚‹ã“ã¨
- äºŒã¤ã®é•ã„ãŒã€Rubyã®å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯æ›–æ˜§ã ã£ãŸ (ãªã‚“ã‹æ›–æ˜§ã ãªã¨ã¯æ€ã£ã¦ã„ãŸ)

# ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¼•æ•°ã‚’å—ã‘å–ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰

```rb
def foo(x:, y:)
end
```

# ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¼•æ•°ã§ã®å‘¼ã³å‡ºã—ã®ä¾‹

ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè¡Œã®å¼•æ•°ã«ç›´æ¥ key / value ã‚’æ›¸ã

```rb
foo(x: "x", y: "y")
```

# ãƒãƒƒã‚·ãƒ¥ã§ã®å‘¼ã³å‡ºã—ã®ä¾‹

ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè¡Œã®å¼•æ•°ã‚’ãƒ–ãƒ¬ãƒ¼ã‚¹ã§å›²ã£ã¦ key / value ã‚’æ›¸ã
(ãƒ–ãƒ¬ãƒ¼ã‚¹ã§å›²ã†ã‚‚ã®ãŒã€ãã‚‚ãã‚‚ Hash ãªã®ã§)

ã“ã®æ›¸ãæ–¹ã¯NGã¨ãªã‚‹

```rb
foo({x: "x", y: "y"})
```

# ãƒãƒƒã‚·ãƒ¥ã‚’ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¼•æ•°ã¨ã—ã¦æ¸¡ã—ãŸã„å ´åˆ

ãƒ€ãƒ–ãƒ«ã‚¢ã‚¹ã‚¿ãƒªã‚¹ã‚¯ã‚’ä»˜ã‘ã‚‹ã¨ã€ãƒãƒƒã‚·ãƒ¥ã‚’ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¼•æ•°ã«å¤‰æ›ã—ã¦ãƒ¡ã‚½ãƒƒãƒ‰ã«æ¸¡ã›ã‚‹

```rb
foo(**{x: "x", y: "y"})
```

ã“ã®ä¾‹ã ã¨å…¨ãæ„å‘³ã¯ãªã„ãŒã€ãƒãƒƒã‚·ãƒ¥ãŒå¤‰æ•°ã®å ´åˆã¯æœ‰ç”¨

```
hash = {x: "x", y: "y"}
foo(**hash)
```

# é€†ãƒ‘ã‚¿ãƒ¼ãƒ³

ãƒãƒƒã‚·ãƒ¥ã‚’å—ã‘å–ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã¯

```rb
def bar(h = {})
end
```

ãƒãƒƒã‚·ãƒ¥ã‚’å¼•æ•°ã«ã§ãã‚‹

```rb
bar({ x: "x", y: "y" })
```

ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚‚å¼•æ•°ã«ã§ãã‚‹

```rb
bar(x: "x", y: "y")
```

æ›–æ˜§ã•ãŒæ®‹ã£ãŸã¾ã¾ã ãŒã€ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯Ruby3 ã«ãªã£ã¦ã‚‚ä½¿ã„ç¶šã‘ã‚‰ã‚Œã‚‹ã‚‰ã—ã„

# ä»–ã®ä¾‹

å…¬å¼ã‚’å‚ç…§

[Ruby 2.7.0 ãƒªãƒªãƒ¼ã‚¹](https://www.ruby-lang.org/ja/news/2019/12/25/ruby-2-7-0-released/)

è¦ã™ã‚‹ã«æ›–æ˜§ã•ãŒãªããªã‚Œã°OK


# Code

```rb
# receive keyword args method
def foo(x:, y:)
  p x
  p y
end

# OK
# Pass keyword args
foo(x: "x", y: "y")

# OK
# Pass hash but convert as keyword args explicity
foo(**{x: "x", y: "y"})

# OK
# Pass hash but convert as keyword args explicity
hash = {x: "x", y: "y"}
foo(**hash)

# NG
# Pass Hash Args
# warning: Using the last argument as keyword parameters is deprecated; maybe ** should be added to the call
foo({x: "x", y: "y"})



# Receive hash method
def bar(h = {})
  p h[:x]
  p h[:y]
end

# OK
bar({ x: "x", y: "y" })

# OK
# Call with keyword argus but NO ERROR!
bar(x: "x", y: "y")


```



# Original by Github issue

https://github.com/YumaInaura/YumaInaura/issues/3103











<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


