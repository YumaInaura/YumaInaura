---
title: "Ansible ã€Œã§ã€ python ã€Œã‚’ã€ ãƒªãƒ¢ãƒ¼ãƒˆãƒ¼ã‚µãƒ¼ãƒãƒ¼ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹æ³•"
emoji: "ğŸ–¥"
type: "tech"
topics: ["Ansible"]
published: true
---

ãƒªãƒ¢ãƒ¼ãƒˆã‚µãƒ¼ãƒãƒ¼ã«pythonãŒå¿…è¦ãªã®ã«ã€pythonè‡ªä½“ã‚’ã©ã†ã‚„ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã®ã‹ã€‚

# ç­”ãˆ

raw ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« / script ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ãƒªãƒ¢ãƒ¼ãƒˆã‚µãƒ¼ãƒãƒ¼ã« python ã‚’å¿…è¦ã¨ã—ãªã„ã€‚ã“ã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã®ãŒè‰¯ã•ãã†ã€‚

>Ansibleâ€™s â€œrawâ€ module (for executing commands in a quick and dirty way) and the script module donâ€™t even need Python installed. 
> ...
>`ansible myhost --sudo -m raw -a "yum install -y python2"`

[Installation Guide â€” Ansible Documentation](https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html#managed-node-requirements)


# ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒåˆ©ç”¨ã§ãã‚‹ç¢ºèª

ã“ã“ã§ã¯å˜ã« `ls` ãŒå©ã‘ã‚‹ã“ã¨ã‚’ç¢ºèªã€‚

shell ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®Ÿè¡Œã—ã‚ˆã†ã¨ã—ã¦æ€’ã‚‰ã‚Œã‚‹ä¾‹ã€‚

```
$ ansible -i inventory.txt example_group -m 'command' -a 'ls -la'

localhost | FAILED! => {
    "changed": false,
    "module_stderr": "Shared connection to ******* closed.\r\n",
    "module_stdout": "/bin/sh: 1: /usr/bin/python: not found\r\n",
    "msg": "MODULE FAILURE",
    "rc": 127
}
```

raw ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯æ€’ã‚‰ã‚Œãªã„ã€‚

```
$ ansible -i inventory.txt example_group -m 'raw' -a 'ls -la /'

localhost | SUCCESS | rc=0 >>
total 24
drwx------ 1 root root 4096 Jul 15 01:19 .
drwxr-xr-x 1 root root 4096 Jul 15 01:19 ..
drwx------ 3 root root 4096 Jul 15 01:19 .ansible
-rw-r--r-- 1 root root 3106 Oct 22  2015 .bashrc
drwx------ 2 root root 4096 Jul 15 01:19 .cache
-rw-r--r-- 1 root root  148 Aug 17  2015 .profile
Shared connection to localhost closed.
```

# ç’°å¢ƒ

- ansible 2.6.1









<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


