---
title: "bq load ã‚³ãƒãƒ³ãƒ‰ã®åŸºæœ¬"
emoji: "ğŸ–¥"
type: "idea"
topics: ["BigQuery", "googlecloud"]
published: true
---

# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

æ¬¡ã®å½¢å¼ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å©ãã€‚ä¸‰ã¤ã¨ã‚‚å¿…é ˆã€‚

```
bq load [BQã®ãƒ†ãƒ¼ãƒ–ãƒ«å] [ãƒªã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹] [ã‚¹ã‚­ãƒ¼ãƒæŒ‡å®š]
```

## ä¾‹

ãŸã¨ãˆã°ã“ã†ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹å ´åˆã€‚

```example.txt
Alice,20
Bob,21
Carol,22
```

æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§BQã«ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œã‚Œã‚‹ã€‚

```bash
bq load bq_dataset.table example.txt name:string,age:integer
```

# è¿½è¨˜ / ç½®æ›

ã¡ãªã¿ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å‹•ä½œã¯ã€Œè¿½è¨˜ã€ãªã®ã§ã€äºŒå›å®Ÿè¡Œã™ã‚‹ã¨åŒã˜ãƒ‡ãƒ¼ã‚¿ãŒä½œã‚‰ã‚Œã‚‹ã€‚

![image](https://qiita-image-store.s3.amazonaws.com/0/89618/f29d0b8d-23dd-f061-f0c6-d8ae3a7f02e9.png)

ç½®æ›ã™ã‚‹å ´åˆã¯ `--replace` ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã€‚

```bash
bq load --replace bq_dataset.table example.txt name:string,age:integer
```

```bash
bq load bq_dataset.table example.txt name:string,age:integer
```

# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®æŒ‡å®š

åŒºåˆ‡ã‚Šæ–‡å­—ãŒã‚«ãƒ³ãƒä»¥å¤–ã®å ´åˆã¯ã€`--field_delimiter` ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚

## ä¾‹: ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šã®å ´åˆ

```example.txt
Alice 20
Bob 21
Carol 22
```

```bash
bq load --field_delimiter=' ' bq_dataset.table example.txt name:string,age:integer
```

## ä¾‹

ã€Œãƒªã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã€ã¯ GCSï¼ˆGoogleCloudStorageï¼‰ ä¸Šã®ãƒ‘ã‚¹ã§ã‚‚è‰¯ã„ã€‚ï¼ˆã“ã¡ã‚‰ã®æ–¹ãŒé«˜é€Ÿï¼‰
ãŸã ã—ã€Œã‚¹ã‚­ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã€ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚‚ã®ã§ãªã‘ã‚Œã°ã„ã‘ãªã„ã€‚

```bash
bq load bq_dataset.table gs://bucket/log.gz /tmp/schema.json
```

# --nosync ã‚ªãƒ—ã‚·ãƒ§ãƒ³

éåŒæœŸã§å®Ÿè¡Œã™ã‚‹ã€‚

# ç’°å¢ƒ

- Google Cloud SDK 134.0.0
- bq 2.0.24








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


