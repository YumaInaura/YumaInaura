---
title: docker run / exec ã‚„ docker-compose ã® command / entrypoint ã§è¤‡æ•°ã‚³ãƒãƒ³ãƒ‰ã‚’é€£ç¶šã—ã¦
emoji: "ğŸ–¥"
type: "idea"
topics: ["Docker"]
published: true
---

#  ç´ ã®dockerã§è©¦ã—ã¦ã¿ã‚‹ã€‚

è½ã¡ã‚‹ã‚±ãƒ¼ã‚¹ã€‚ç¬¬ä¸€å¼•æ•°ã« `hostname && hostname` ãŒæ¸¡ã•ã‚Œã€ãã‚Œå…¨ä½“ãŒã‚³ãƒãƒ³ãƒ‰ã¨è©•ä¾¡ã•ã‚Œã¦ã„ã‚‹ï¼Ÿ

```
$ docker run busybox 'hostname && hostname'
docker: Error response from daemon: OCI runtime create failed: container_linux.go:345: starting container process caused "exec: \"hostname && hostname\": executable file not found in $PATH": unknown.
ERRO[0001] error waiting for container: context canceled
```

æˆåŠŸã—ã¦ã‚‹ã‹ã¨æ€ã„ãã‚„ã€å®Ÿã¯docker ã‚³ãƒãƒ³ãƒ‰è‡ªä½“ãŒçµ‚äº†ã—ã¦ãŠã‚Šã€å®Ÿè¡Œå…ƒã§2å€‹ç›®ã®ã‚³ãƒãƒ³ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã¦ã—ã¾ã£ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹ã€‚

```
$ docker run busybox hostname && hostname
b7cebfb9e802
YumaInauranoMacBook-Air.local
```

bash / sh ã«å…¨éƒ¨æ¸¡ã›ã—ã¦ 1ã‚³ãƒãƒ³ãƒ‰æ‰±ã„ã«ã™ã‚Œã°æˆåŠŸã™ã‚‹ã£ã½ã„ã€‚

```
$ docker run busybox sh -c 'hostname && hostname'
957b50b9e107
957b50b9e107
```

# docker-compose

åŒã˜ãå…¨ä½“ã‚’ bash ã‚³ãƒãƒ³ãƒ‰ã§ããã‚‹ãªã©ã—ã¦1ã‚³ãƒãƒ³ãƒ‰æ‰±ã„ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã£ã½ã„ã€‚

```
command: bash -c 'echo "ok" && echo "ok" && echo "ok"'
```

ã“ã†ã„ã†ã®ã¯ãƒ€ãƒ¡ã€‚

```
command: echo "ok" && echo "ok"

command: bash -c echo "ok" && bash -c 'echo "ok" && echo "ok"'
```

[yaml - Using Docker-Compose, how to execute multiple commands - Stack Overflow](https://stackoverflow.com/questions/30063907/using-docker-compose-how-to-execute-multiple-commands)

sh ã¨ã‹ ash ã—ã‹å…¥ã£ã¦ãªã„å ´åˆã¯ãã¡ã‚‰ã§å¤šåˆ†ã€‚


# Original by Github issue

https://github.com/YumaInaura/YumaInaura/issues/2586








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


