---
title: "#Ruby to_hash implemented class / method receive as **keyword_args / C"
emoji: "ğŸ–¥"
type: "tech"
topics: ["Ruby"]
published: true
published_at: 2020-05-02t10:20
---

```rb
# Ruby 2.7

# to_hash method not implemented class
class ToHashNotImplementedUser
  def initialize(name:, age:)
    @name = name
    @age = age
  end
end

# to_hash method implemented class
class ToHashImplementedUser
  def initialize(name:, age:)
    @name = name
    @age = age
  end

  def to_hash
    {
      name: @name,
      age: @age
    }
  end
end

def show_args(*args, **keyword_args)
  puts "args: #{args}"
  puts "keyword_args: #{keyword_args}"
end


# ---------------------------
# ToHashNotImplementedUser Case
# ---------------------------

to_hash_not_implemented_bob = ToHashNotImplementedUser.new(name: "Bob", age: 30)

show_args(to_hash_not_implemented_bob)
# Receives as *args
#
#   args: [#<ToHashNotImplementedUser:0x00007fe7f708b038 @name="Bob", @age=30>]
#   keyword_args: {}


# ---------------------------
# ToHashImplementedUser Case
# ---------------------------

to_hash_implemented_alice = ToHashImplementedUser.new(name: "Alice", age: 20)

show_args(to_hash_implemented_alice)
# Receives as *keyword_args
#
# warning: Using the last argument as keyword parameters is deprecated; maybe ** should be added to the call
#
# args: []
# keyword_args: {:name=>"Alice", :age=>20}

show_args(**to_hash_implemented_alice)
# Receives as *keyword_args
#
# No Warning
#
#   keyword_args: {:name=>"Alice", :age=>20}
#   args: []

show_args(to_hash_implemented_alice, **{})
# Receives as *args
#
# Explicity pass empty keyword args
#
#   args: [#<ToHashImplementedUser:0x00007fcf8d823db8 @name="Alice", @age=20>]
#   keyword_args: {}
```

# å•é¡Œ

- to_hash ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚‹ class ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã€å¯å¤‰é•·ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¼•æ•° ( **keyword_args )ã‚’å—ã‘å–ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã«æ¸¡ã™ã¨ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã¯ãªãã¦ãƒãƒƒã‚·ãƒ¥ã«ãªã£ã¦ã—ã¾ã†
- Ruby2.7 ã¾ã§ã®ãƒãƒƒã‚·ãƒ¥ã‹ã‚‰ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¼•æ•°ã¸ã®è‡ªå‹•å¤‰æ›ã®å‰¯ä½œç”¨çš„ãªã‚‚ã®ã ã¨æ€ã†


# Original by Github issue

https://github.com/YumaInaura/YumaInaura/issues/3111











<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->



# å…¬é–‹æ—¥æ™‚

2020-05-02
