---
title: "td-agent | in_exec ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã‚³ãƒãƒ³ãƒ‰ or ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œçµæœã‚’å…¥åŠ›ã¨ã—ã¦æ‰±ã†"
emoji: "ğŸ–¥"
type: "tech"
topics: ["td-agent"]
published: true
published_at: 2018-06-24t17:13
---

in_exec ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã¯ã€æŒ‡å®šæ™‚é–“æ¯ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¦ã€ãã®çµæœã‚’å…¥åŠ›ã¨ã—ã¦æ‰±ã†ã“ã¨ãŒå‡ºæ¥ã‚‹ã€‚

# è¨­å®š

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã‚’è¨˜è¿°ã€‚

ä¾‹ã¨ã—ã¦ `echo` ã‚³ãƒãƒ³ãƒ‰ã§JSONã‚’åãå‡ºã—ã¦å…¥åŠ›ã¨ã—ã¦æ‰±ã†ã€‚
ã“ã‚Œã‚’td-agentå´ã«æ¨™æº–å‡ºåŠ›ã•ã›ã‚‹ã€‚


```conf:/etc/td-agent/td-agent.conf

<source>
  @type exec
  format json
  tag in_exec_test
  command echo '{ "key" : "vallue" }' # å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰
  run_interval 1s # 1ç§’ã”ã¨ã«å®Ÿè¡Œ
</source>

<match in_exec_test>
  @type stdout
</match>

```


## çµæœ

1ç§’ã”ã¨ã«çµæœãŒå‡ºåŠ›ã•ã‚Œã‚‹ã€‚

```
$ td-agent

2018-06-24 08:07:58 +0000 in_exec_test: {"key":"vallue"}
2018-06-24 08:07:59 +0000 in_exec_test: {"key":"vallue"}
2018-06-24 08:08:00 +0000 in_exec_test: {"key":"vallue"}
```

# è£œè¶³

ruby ãªã©ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ JSON ã‚’è¿”ã™ã‚ˆã†ã«ã—ã¦ãŠã„ã¦ãã‚Œã‚’ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã™ã‚Œã°ã€ä½•ã‹æŸ”è»Ÿãªçµæœã‚’è¿”ã™ã“ã¨ãŒå‡ºæ¥ã‚‹ã€‚

# ç’°å¢ƒ

- td-agent 0.12.40
- Ubuntu 16.04.4 LTS (Xenial Xerus)
- Docker version 18.03.1-ce, build 9ee9f40

# å‚è€ƒ


- [Edit "td-agent | in_exec ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œçµæœã‚’" - Qiita](https://qiita.com/drafts/09f8a4446a65584f003e/edit)
- [td-agent ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ debug ã—ã¦ã¿ã‚‹ ( docker + ubuntu ) - Qiita](https://qiita.com/YumaInaura/items/07ffeb9f58c58515b0fe)








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->



# å…¬é–‹æ—¥æ™‚

2018-06-24
