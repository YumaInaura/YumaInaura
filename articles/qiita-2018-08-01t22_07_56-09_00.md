---
title: "Ansibleâ€”ãƒªãƒ¢ãƒ¼ãƒˆãƒã‚·ãƒ³ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ã‚’èª­ã‚€"
emoji: "ğŸ–¥"
type: "tech"
topics: ["Ansible"]
published: true
---

## slurp ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã†

- çµæœã‚’ register ã§ã„ã¡ã©å¤‰æ•°ã«å…¥ã‚Œã‚‹
  - slurpã§å–ã‚ŒãŸæ–‡å­—åˆ—ã¯ base64 decode ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã£ã½ã„ã€‚
- æ¬¡ã« debug ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§è¡¨ç¤ºã•ã›ã‚‹

```in_some_playbook_tasks.yml
...
    - name: slurp file
      slurp:
        path: example.txt
      register: slurp_file

    - name: echo file body
      debug:
        msg: "{{ slurp_file.content | b64decode }}"
```

[slurp - Slurps a file from remote nodes â€” Ansible Documentation](https://docs.ansible.com/ansible/2.6/modules/slurp_module.html)

## shell ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã†

ç´ ç›´ã«catã—ã¦ã—ã¦æ¨™æº–å‡ºåŠ›ã‚’è¦‹ã‚‹æ–¹æ³•

```in_some_playbook_tasks.yml
...
    - name: cat file
      shell: cat example.txt
      register: cat_file

    - name: echo file body
      debug:
        msg: "{{ cat_file.stdout }}"
```

## lookup ã¯ï¼Ÿ

ã“ã¡ã‚‰ã¯ãƒªãƒ¢ãƒ¼ãƒˆãƒã‚·ãƒ³ã§ã¯ãªãã€æ‰‹å…ƒ ( Control Machine ) ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¦‹ã‚‹æ–¹æ³•ã®ã‚ˆã†ã ã€‚

[file - read file contents â€” Ansible Documentation](https://docs.ansible.com/ansible/2.6/plugins/lookup/file.html)

## ç’°å¢ƒ

- ansible 2.6.1

## Gist

- [Ansibleâ€”slurp module](https://gist.github.com/YumaInaura/3902607dddac246ca15395b5aedcc2fb#file-slurp-yml)








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


