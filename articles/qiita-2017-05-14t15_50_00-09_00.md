---
title: Slack API | Web API ã‹ã‚‰ Slack App çµŒç”±ã§ ãƒãƒ£ãƒ³ãƒãƒ«å±¥æ­´ã‚’å–å¾—ã™ã‚‹
emoji: "ğŸ–¥"
type: "idea"
topics: ["Slack"]
published: true
---

ã“ã®ä¾‹ã§ã¯ `channel.history` ã‚’å‚ç…§ã§ãã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã™ã‚‹ã€‚

# App ã®ä½œæˆ

https://api.slack.com/apps ã‹ã‚‰ App ã‚’ä½œæˆã™ã‚‹

![image](https://qiita-image-store.s3.amazonaws.com/0/89618/df7c3fc5-5c89-c4a6-c61c-519fefb7b467.png)

# App ã« ãƒãƒ£ãƒ³ãƒãƒ«ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚’ä»˜ä¸ã™ã‚‹


**OAuth & Permissions** > **Permission Scopes** ã§åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚³ãƒ¼ãƒ—ã‚’è¿½åŠ ã™ã‚‹ã€‚

ã“ã“ã§ã¯ `Access userâ€™s public channels. ( channels.history )` ã‚’é¸ã¶ã€‚

![image](https://qiita-image-store.s3.amazonaws.com/0/89618/e283f79f-b7f0-2804-d21a-9d7c709ef438.png)

# ãƒãƒ¼ãƒ ã« App ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

![image](https://qiita-image-store.s3.amazonaws.com/0/89618/cc60f256-774a-4aa4-bd9f-c2a0d59669e0.png)

![image](https://qiita-image-store.s3.amazonaws.com/0/89618/4e77d6d0-bacc-b5ed-04c7-92f771cd960a.png)

# Appç”¨ã®ãƒˆãƒ¼ã‚¯ãƒ³ãŒç™ºè¡Œã•ã‚Œã‚‹ã®ã§æ§ãˆã¦ãŠã

**æ³¨æ„: ã“ã“ã§ã¯ä¾‹ã¨ã—ã¦è¼‰ã›ã‚‹ãŒã€é€šå¸¸ã¯ãƒˆãƒ¼ã‚¯ãƒ³ã¯å…¬é–‹ã—ã¦ã¯ã„ã‘ãªã„**

![image](https://qiita-image-store.s3.amazonaws.com/0/89618/aca1be03-c66a-fb7d-245d-3bbcca863f2b.png)


# Web API ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹

ãƒ†ã‚¹ã‚¿ãƒ¼ã‚’ä½¿ã†ã¨ã€ç°¡å˜ã« Web API ç”¨ã®URLãŒç™ºè¡Œã§ãã‚‹ã€‚

https://api.slack.com/methods/channels.history/test

![image](https://qiita-image-store.s3.amazonaws.com/0/89618/8392c382-8a3e-b9b7-daba-46de41cc5f50.png)


# ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å¤‰æ›´ã™ã‚‹

ã“ã®ãƒ†ã‚¹ã‚¿ãƒ¼ã§ç”Ÿæˆã•ã‚Œã‚‹URLã¯**ã€Œã‚ãªãŸã®Slackã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€**ã«ç´ä»˜ã„ã¦ã„ã‚‹ã®ã§ã€Slack Appã‚’é€šã—ã¦å–å¾—ã—ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„ã€‚

ãªã®ã§ ç™ºè¡Œã•ã‚ŒãŸURLã®ãƒˆãƒ¼ã‚¯ãƒ³ã®éƒ¨åˆ†ã ã‘ã‚’å¤‰æ›´ã™ã‚‹ã€‚

## Before

`https://slack.com/api/channels.history?token=[TesterToken]&channel=C18TGD76Z&pretty=1`

## After

`https://slack.com/api/channels.history?token=[SlackAppToken]&channel=C18TGD76Z&pretty=1`

# çµæœç¢ºèª

ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€æƒ…å ±ãŒå¾—ã‚‰ã‚Œã¦ã„ãŸã‚‰æˆåŠŸã ã€‚

![image](https://qiita-image-store.s3.amazonaws.com/0/89618/5e9b8a1c-2ffc-dad7-6cb8-6e21b6ceb345.png)

# ãã‚Œæœ¬å½“ã« App çµŒç”±ï¼Ÿ

ä¸å®‰ãªã‚‰ã€ã‚ãªãŸã®Slackãƒ¦ãƒ¼ã‚¶ãƒ¼ç”¨ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å†ç™ºè¡Œã—ã¦ã¿ã‚‹ã¨è‰¯ã„ã ã‚ã†ã€‚(å¤ã„ãƒˆãƒ¼ã‚¯ãƒ³ã¯åˆ©ç”¨ä¸å¯ã«ãªã‚‹)

( https://api.slack.com/custom-integrations/legacy-tokens )

![image](https://qiita-image-store.s3.amazonaws.com/0/89618/81a8864b-2fa4-01ce-622e-529f6f746473.png)

## Testerã§ç”Ÿæˆã—ãŸURL

ã‹ã‚‰ã¯ã€ã‚¨ãƒ©ãƒ¼ãŒè¿”ã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚

![image](https://qiita-image-store.s3.amazonaws.com/0/89618/8d031285-d6c2-069f-f8aa-c9d5b43894f5.png)

## App çµŒç”±ã® URL

ã¯ã€å¼•ãç¶šãåˆ©ç”¨ã§ãã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹ã ã‚ã†ã€‚

![image](https://qiita-image-store.s3.amazonaws.com/0/89618/5e9b8a1c-2ffc-dad7-6cb8-6e21b6ceb345.png)








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


