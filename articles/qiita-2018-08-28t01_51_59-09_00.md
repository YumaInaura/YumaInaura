---
title: Shellã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ bats ã‚’ä½¿ã£ã¦ã¿ã‚‹
emoji: "ğŸ–¥"
type: "idea"
topics: ["Bash", "shell", "ãƒ†ã‚¹ãƒˆ"]
published: true
---

## Github

[sstephenson/bats: Bash Automated Testing System](https://github.com/sstephenson/bats)

## ãƒã‚¤ãƒ³ãƒˆ

- ä»–è¨€èªã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆåŒã˜ã‚ˆã†ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ãƒ†ã‚¹ãƒˆãŒæ›¸ã‘ã‚‹
  - `setup` `teardown` `skip` ã‚„ helper ã®ä»•çµ„ã¿ãŒã‚ã‚‹
  - ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚‚ãƒ•ã‚©ãƒ¼ãƒãƒ«ãªå½¢å¼ ( e.g `5 tests, 2 failures, 1 skipped` )
- ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒç°¡å˜ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç”¨ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å©ãã ã‘
- Staræ•°ã¯ã‹ãªã‚Šã®ã‚‚ã®ã€5000è¿‘ã„
- 2018å¹´8æœˆç¾åœ¨ã§ã‚‚ãƒ¡ã‚¤ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒã‚¼ãƒ­.
  - æœ€å¾Œã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ãŒ2014å¹´ã€€( `0.4.0 (August 13, 2014)` )
https://github.com/sstephenson/bats/pull/6
- ãƒ†ã‚¹ãƒˆã®çµæœè¡¨ç¤ºã§å¤‰æ•°å±•é–‹ã‚’ã—ã¦ãã‚Œãªã„ ( e.g `[ "$one" -eq "$two" ]` )
  - ãƒ†ã‚¹ãƒˆãŒä½•æ•…æˆåŠŸã—ãŸã‹ã€å¤±æ•—ã—ãŸã‹ã®è©³ç´°ãŒåˆ†ã‹ã‚Šã¥ã‚‰ã„
- ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ã‚ˆã†ã« `-eu` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒä½¿ãˆãªã„ã®ã§ã€å¤‰æ•°æœªå®šç¾©ã«æ³¨æ„ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
- ç¢ºã‹ã«å®Œç’§ã§ã¯ãªã„ã‘ã‚Œã©ã‚ªãƒ¬ã‚ªãƒ¬ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã‚ˆã‚Šã¯è‰¯ã„ã‹ã‚‚ã—ã‚Œãªã„
  - æ¢ã—ãŸã‚‰ä»–ã«ã‚‚è‰²ã€…ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒã‚ã‚Šãã† (è©¦ã—ãŸã„)

## ç°¡å˜ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä¾‹

`./example-test`

```sh
#!/usr/bin/env bats

function setup() {
  one=1
  two=2
}

@test "succeed case" {
  [ 1 -eq 1 ] 
}

@test "succeed case ( use variable )" {
  [ "$one" -eq "$one" ]
}

@test "failure case" {
  [ 1 -eq 2 ] 
}

@test "failure case ( use variable ) " {
  [ "$one" -eq "$two" ]
}

@test "undefined variables but succeeded case" {
  [ "$none" = "$none" ] # Ooops this case succeed
}

@test "skip case" {
  skip
  [ 1 -eq 2 ]
}

```

## çµæœã®ä¾‹

```sh
 âœ“ succeed case
 âœ“ succeed case ( use variable )
 âœ— failure case
   (in test file tmp/bats, line 17)
     `[ 1 -eq 2 ]' failed
 âœ— failure case ( use variable )
   (in test file tmp/bats, line 21)
     `[ "$one" -eq "$two" ]' failed
 âœ“ undefined variables but succeeded case
 - skip case (skipped)

6 tests, 2 failures, 1 skipped
```

![image](https://user-images.githubusercontent.com/13635059/44672594-dfeaee80-aa63-11e8-8619-d2a5b5651a4a.png)

## Versions

- Bats 0.4.0

## Lins

- [Gist](https://gist.github.com/YumaInaura/08696625b2a32f48b7cd384f39235ea9)








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


