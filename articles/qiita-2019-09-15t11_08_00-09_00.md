---
title: "#Ruby ã§ å‡¦ç†é€Ÿåº¦ã‚’å¹³å‡åŒ–ã—ãŸã„ã€‚sleep ã§å¿…ãšä¸€å®šæ™‚é–“ä»¥ä¸Šã‹ã‹ã‚‹å‡¦ç†ã‚’ä½œã‚‹ã€‚"
emoji: "ğŸ–¥"
type: "tech"
topics: ["Ruby"]
published: true
---

å‡¦ç†ã«ã‹ã‹ã£ãŸæ™‚é–“ã‚’å¾—ã¦ã€æœ€ä½æ™‚é–“ã«æº€ãŸãªã‹ã£ãŸã‚‰è¶³ã‚Šãªã„åˆ†ã‚’ sleep ã•ã›ã‚‹

# ä¾‹

```rb
def some_action
  # some action
end

start_time = Time.now.to_f

some_action

done_time = Time.now.to_f

under_time = 0.1

diff_time = under_time - (done_time - start_time)

sleep diff_time if diff_time.positive? }
```

# ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã®ä¾‹

```rb
require 'benchmark'

[*1..10].map { Benchmark.realtime { start_time = Time.now.to_f; sleep rand(0.01..0.10); done_time = Time.now.to_f; under_time = 0.1; diff_time = under_time - (done_time - start_time); sleep diff_time if diff_time.positive?; } }

# => [0.10333599988371134,
 0.10502699995413423,
 0.10417600022628903,
 0.10169599996879697,
 0.1034500002861023,
 0.10172299994155765,
 0.10186100006103516,
 0.10312700038775802,
 0.10354600008577108,
 0.10065300017595291]
```



# Original by Github issue

https://github.com/YumaInaura/YumaInaura/issues/2439








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


