---
title: "#Slack ã«æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ç”»åƒãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ã¨è‡ªå‹•çš„ã« public ã®å…±æœ‰ãƒªãƒ³ã‚¯ã‚’ä½œæˆã™ã‚‹ #python + #Zapier "
emoji: "ğŸ–¥"
type: "tech"
topics: ["Python", "Slack", "zapier"]
published: true
published_at: 2019-03-15
---

# ã‚„ã‚ŠãŸã„ã“ã¨

ã“ã‚Œ

![image](https://user-images.githubusercontent.com/13635059/54342304-750ba880-467f-11e9-8dd2-f5ada6f23c2f.png)

# æº–å‚™ Slack API ã§ APP ã‚’ä½œæˆã—ã¦ãŠã

- OAuth Access Token ã‚’ä½œæˆã—ã¦ãŠã
- APP ã« files:write:user æ¨©é™ã‚’ä¸ãˆã¦ãŠã

![image](https://user-images.githubusercontent.com/13635059/54342395-a8e6ce00-467f-11e9-994c-7aaac20477b2.png)

# Zapier ã§ Slack ã® New File ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã™ã‚‹

![image](https://user-images.githubusercontent.com/13635059/54342230-42fa4680-467f-11e9-86be-ef408db44703.png)

# Code by Zapier > Python script ã‚’ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«ã™ã‚‹

# Input 

![image](https://user-images.githubusercontent.com/13635059/54342340-8ce32c80-467f-11e9-9a0a-520bd3f8d633.png)


# Script

```py
out = {}

import requests, os

token = input_data['token']
channel = input['channel_id']

file_id = input['permalink'].split("/")[5]

share_api_url ='https://slack.com/api/files.sharedPublicURL?token=' + token + '&file=' + file_id + '&pretty=1'

res = requests.get(share_api_url)
results = res.json()

print(results)

output = [out]
```

# çµæœ

https://slack-files.com/T18TT376E-FGW42RZ4Y-0938563bb9

![image](https://user-images.githubusercontent.com/13635059/54342549-18f55400-4680-11e9-955c-93f01682e0bb.png)


# Original by Github issue

https://github.com/YumaInaura/YumaInaura/issues/775








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->



# å…¬é–‹æ—¥æ™‚

2019-03-15
