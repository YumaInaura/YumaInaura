---
title: "Next.js / React â€“  URL ã‚’ Fetchã™ã‚‹ä¾‹ (åˆå¿ƒè€…) ( TypeError: ... is not a func"
emoji: "ğŸ–¥"
type: "idea"
topics: ["React", "Next.js"]
published: true
---

# æˆåŠŸã™ã‚‹ã‚³ãƒ¼ãƒ‰ä¾‹

`pages/_app.tsx`


```js
import '../styles/globals.css'
import type { AppProps } from 'next/app'
import React from "react";

export const doFetch = async () => {
  const res = await fetch('https://api.github.com/repos/zeit/next.js')
  const json = await res.json()
  console.log(json);
}

export default function App({ Component, pageProps }: AppProps) {
  doFetch();
  return <Component {...pageProps} />
}
```

async ãª function å†…ã§ fetch ã‚’å®Ÿè¡Œã—ãªã„ã¨ãƒ€ãƒ¡ã£ã½ã„

# ãƒ€ãƒ¡ãªä¾‹

- åŒæœŸ function ã®ä¸­ã§ã¯å®Ÿè¡Œã§ããªã„
- resã‹ã‚‰æ´¾ç”Ÿã™ã‚‹é–¢æ•° ( `res.json()` ) ã¨ã‹ãŒä½¿ãˆãªã„
- fetch ã®è¿”ã‚Šå€¤ã¨ã—ã¦ã¯ Promise ãŒè¿”ã£ã¦æ¥ã‚‹ãŒãã®ã¾ã¾ã¯ä½¿ã£ã¦ã‚‚æ„å‘³ãŒãªã„
- function ãŒ async ã§ã¯ãªã„ã®ã§ await ã‚‚ã§ããªã„

```js
export default function App({ Component, pageProps }: AppProps) {
  const res = fetch('https://api.github.com/repos/zeit/next.js')
  console.log(res.json())
  return <Component {...pageProps} />
}
```

ã‚¨ãƒ©ãƒ¼

```
Server Error
TypeError: res.json is not a function
```

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ


# Twitter

https://twitter.com/YumaInaura

