---
title: "Docker for mac / windows ã§ OS ãƒ›ã‚¹ãƒˆã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç›´æ¥æŒ‡å®šã™ã‚‹æ–¹æ³•ã¨ã€ãã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç¢ºèªã™ã‚‹æ–¹æ³•"
emoji: "ğŸ–¥"
type: "tech"
topics: ["ãƒã‚¨ãƒ "]
published: true
---

# host.docker.internal

- `host.docker.internal` ã¨ã„ã†ç‰¹æ®Šãª DNS åã§ã€Mac OSã®å†…éƒ¨çš„ãªIP ã‚¢ãƒ‰ãƒ¬ã‚¹ / ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã®IPã‚¢ãƒ‰çµµrã™ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã ã€‚
- ssh ã‚³ãƒãƒ³ãƒ‰ã‚„ curl ã«æŒ‡å®šã—ã¦ã¿ã‚‹ã¨ã€å®Ÿéš›ã®æ¥ç¶šå…ˆã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ãŒåˆ†ã‹ã‚‹ã‚ˆã†ã 

# curl

```
/ # curl -v https://host.docker.internal
*   Trying 192.168.65.2:443...
* TCP_NODELAY set
* connect to 192.168.65.2 port 443 failed: Connection refused
* Failed to connect to host.docker.internal port 443: Connection refused
* Closing connection 0
curl: (7) Failed to connect to host.docker.internal port 443: Connection refused
```

192.168.65.2ã«æ¥ç¶šã—ã‚ˆã†ã¨ã™ã‚‹ã€‚
ç‰¹ã«Mac OS ã§ ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•ã—ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„ã®ã§æ¥ç¶šè‡ªä½“ã¯è½ã¡ã‚‹ã€‚

# ssh

```
/ # curl -v https://192.168.65.2
*   Trying 192.168.65.2:443...
* TCP_NODELAY set
* connect to 192.168.65.2 port 443 failed: Connection refused
* Failed to connect to 192.168.65.2 port 443: Connection refused
* Closing connection 0
curl: (7) Failed to connect to 192.168.65.2 port 443: Connection refused
```

# ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã® IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç›´æ¥æŒ‡å®šã™ã‚‹ã¨

åŒã˜çµæœã«ãªã‚‹æ°—ãŒã™ã‚‹

```
/ # curl -v https://192.168.65.2
*   Trying 192.168.65.2:443...
* TCP_NODELAY set
* connect to 192.168.65.2 port 443 failed: Connection refused
* Failed to connect to 192.168.65.2 port 443: Connection refused
* Closing connection 0
curl: (7) Failed to connect to 192.168.65.2 port 443: Connection refused
```

# 192ç³»ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã£ã¦ï¼Ÿ 

ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆIPã‚¢ãƒ‰ãƒ¬ã‚¹ã ã£ã‘ã€‚

![image](https://user-images.githubusercontent.com/13635059/68352442-c8b88e00-0149-11ea-8cbf-d5e38ec3f544.png)

# Mac ã§ ifconfig ã‚’å©ã„ã¦ã¿ã‚‹

ã“ã“ã§åˆ†ã‹ã‚‹ã‚‚ã®ã§ã¯ãªã„ã‚‰ã—ã„ã€‚

```
$ ifconfig | grep 192
$
```

# docker container ã§ ifconfig

```
/ # ifconfig
eth0      Link encap:Ethernet  HWaddr 02:42:AC:11:00:04
          inet addr:172.17.0.4  Bcast:172.17.255.255  Mask:255.255.0.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:3744 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1111 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:5083958 (4.8 MiB)  TX bytes:71770 (70.0 KiB)

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

```

ã“ã£ã¡ã«ã‚ã‚‹ã‚ã‘ã§ã‚‚ãªã„ã£ã½ã„ã€‚

# Ref

[Networking features in Docker Desktop for Mac | Docker Documentation](https://docs.docker.com/docker-for-mac/networking/#i-want-to-connect-from-a-container-to-a-service-on-the-host)


# Original by Github issue

https://github.com/YumaInaura/YumaInaura/issues/2676








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


