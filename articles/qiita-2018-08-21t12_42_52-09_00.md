---
title: "Gitâ€” â€ã‚°ãƒ­ãƒ¼ãƒãƒ«â€ã®git hooks ãŒåæ˜ ã•ã‚Œãªã„ï¼Ÿ > ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¯ git init / git clone æ™‚ã«ã‚³"
emoji: "ğŸ–¥"
type: "idea"
topics: ["Git", "GitHub"]
published: true
---

git config ã‚„ gitignore ã«ã‚‚ã‚«ãƒ¬ãƒ³ãƒˆã¨ã‚°ãƒ­ãƒ¼ãƒãƒ«ã®è¨­å®šãŒã‚ã‚‹ã‚ˆã†ã«ã€
git hooks ãªã©ã«ã‚‚ global ãªè¨­å®šãŒã‚ã‚‹ã®ã‹ã¨ã¼ã‚“ã‚„ã‚Šæ€ã£ã¦ã„ãŸã‘ã‚Œã©ã€é•ã†æ§˜å­ã€‚

ã€Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚«ãƒ¬ãƒ³ãƒˆãƒ¬ãƒã‚¸ãƒˆãƒªã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹ã€ã¨ã„ã†ä»•çµ„ã¿ã¿ãŸã„ã ã€‚

## è½ã¨ã—ç©´

- ãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ”ãƒ¼ã¯ `git clone` ã¨ `git init` æ™‚ã«ãŠã“ãªã‚ã‚Œã‚‹
  - æœ€åˆã« git ç®¡ç†ã‚’å§‹ã‚ã‚‹æ™‚ä»¥å¤–ã« `git init` ã‚’ä½¿ã†ã¨ã„ã†ç™ºæƒ³ãŒãªã‹ã£ãŸ
- ãªãŠã‹ã¤ `git init` ã§ã¯æ—¢ã«å­˜åœ¨ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸Šæ›¸ãã¯ãŠã“ãªã‚ã‚Œãªã„ (ã‚³ãƒ”ãƒ¼ãŒå¿…è¦ãªã‚‚ã®ã¯ã€ã„ã£ãŸã‚“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã™ã‚‹å¿…è¦ãŒã‚ã‚‹)
  - ä¾‹: `rm .git/hooks/pre-push`  `git init`
- git hooks ã¯ã‚«ãƒ¬ãƒ³ãƒˆãƒ¬ãƒã‚¸ãƒˆãƒªã®ã‚‚ã®ãŒä½¿ã‚ã‚Œã‚‹ã€‚(ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¯ç›´æ¥ä½¿ã‚ã‚Œãªã„)
- ä»Šæ€ãˆã° gitconfig ã« `template` ã¨ã‹ `init` ã¨ã‹ã„ã†åå‰ãŒä»˜ã„ã¦ã„ã‚‹æ™‚ç‚¹ã§æ°—ä»˜ã„ã¦ã‚‚è‰¯ã‹ã£ãŸæ°—ã‚‚ã™ã‚‹


## gitconfig ã®ä¾‹

`~/.gitconfig` ã«ã¯ã€Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€ã‚’æŒ‡å®šã™ã‚‹ã€‚

```
[init]
  templatedir = ~/.git_templates
```

## git hooks ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¾‹

`~/.gitconfig` ã§æŒ‡å®šã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦ã‚³ãƒ”ãƒ¼ã—ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹ã€‚

ã“ã“ã§ã¯è©¦ã—ã«ã€Œã©ã†ã‚„ã£ã¦ã‚‚ push å‡ºæ¥ãªã„ git hooks ã€ã‚’ä½œã£ã¦ã¿ã‚‹ã€‚

```sh
mkdir -p ~/.git_templates/hooks/

echo "echo Nobody can git push! && exit 1" > ~/.git_templates/hooks/pre-push

chmod +x ~/.git_templates/hooks/pre-push
```

ã¡ãªã¿ã« hooks/pre-push ã§ push ã‚’æ­¢ã‚ã‚‹ã«ã¯ exit ã‚’ 0 ä»¥å¤–ã§çµ‚ã‚ã‚‰ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã£ã½ã„ã€‚

## git clone ã®ä¾‹

git clone ã™ã‚‹ã¨ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ `.git/hooks/pre-push` ãŒãƒ¬ãƒã‚¸ãƒˆãƒªã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹ã®ãŒåˆ†ã‹ã‚‹ã€‚

```sh
git clone https://github.com/your/some_repository
cd some_repository
```

ã‚«ãƒ¬ãƒ³ãƒˆã® `.git` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸­èº«ã‚’ç¢ºèªã—ã¦ã¿ã‚ˆã†ã€‚

```
cat .git/hooks/pre-push
echo Nobody can git push! && exit 1
```

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã•ã‚Œã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚‹ã€‚

## æ—¢å­˜ãƒ¬ãƒã‚¸ãƒˆãƒªã® git hooks æ›´æ–°ã™ã‚‹å ´åˆ

ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¬ãƒã‚¸ãƒˆãƒªã«æ—¢ã« `.git/hooks/pre-push` ãŒå­˜åœ¨ã™ã‚‹å ´åˆã¯ã€ã„ã£ãŸã‚“å‰Šé™¤ã—ã¦ã‹ã‚‰ init ã—ç›´ã›ã°è‰¯ã„ã€‚

```
rm .git/hooks/pre-push
```

```
git init
Reinitialized existing Git repository in /path/to/local/repository/.git/
```

è‡ªå‹•ã§ã®ä¸Šæ›¸ãã¯ãŠã“ãªã‚ã‚Œãªã„æ§˜å­ã€‚

## å‚è€ƒ

### Document

>git-init - Create an empty Git repository or reinitialize an existing one
>...
>TEMPLATE DIRECTORY
>Files and directories in the template directory whose name do not start with a dot will be copied to the $GIT_DIR after it is created.

[Git - git-init Documentation](https://git-scm.com/docs/git-init)

### Qiita

- [gitã§masterã¸ã®pushã‚’é˜²ãhook - Qiita](https://qiita.com/tmsanrinsha/items/e7f4d4b3ce615e32997a)
- [gitã§masterã¸ã®pushã‚’ç¦æ­¢ã™ã‚‹ - Qiita](https://qiita.com/ryoichi-u/items/7b20f9af6fc247a3fa99)
- [git ã§ remote master ãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ã‚’ç¦æ­¢ã™ã‚‹ - Qiita](https://qiita.com/january108/items/05ab9e2f1d713f6efae3)

## Versions

- git version 2.17.1

## Links

- [Gist](https://gist.github.com/YumaInaura/8b482ee687832f7515f2a48db1c55130)








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


