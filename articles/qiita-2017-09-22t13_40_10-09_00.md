---
title: Rspec 3.6 | ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ¢ãƒƒã‚¯
emoji: "ğŸ–¥"
type: "idea"
topics: ["Ruby", "RSpec"]
published: true
---

# ãƒ¢ãƒƒã‚¯ã®ç”Ÿæˆ

```rb
instance = instance_double('TestClass', some_method: 'return message!')

instance.some_method # "return message!"
```

# ã‚¯ãƒ©ã‚¹ã«ç‰¹å®šã®å¼•æ•°ã‚’ä¸ãˆãŸæ™‚ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ãƒ¢ãƒƒã‚¯ã™ã‚‹

## Class

```rb
class SomeClass
  def some_method
    "original message!"
  end
end

SomeClass.new.some_method
# => "original message!"
```

## Rspec

å…ƒã®å‘¼ã³å‡ºã—ã¯ `NoMethodError` ã«ãªã£ã¦ã—ã¾ã†ã‚ˆã†ã ã€‚

```rb
allow(SomeClass)
  .to receive(:new)
  .with(:specified_arg)
  .and_return instance_double('TestSomeClass', some_method: 'mocked message!')

SomeClass.new(:specified_arg).some_method
# "mocked message!"

SomeClass.new.some_method
# "NoMethodError: undefined method `some_method'"
```


# ç’°å¢ƒ

- rspec (3.6.0)
- rspec-mocks (3.6.0)

# å‚è€ƒ

https://relishapp.com/rspec/rspec-mocks/docs








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


