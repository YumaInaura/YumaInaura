---
title: "Bash | if ã®ä¸­ã«æ›¸ãã‚¢ãƒ¬ã‚’å˜ä½“ã§æ›¸ãã¨çµ‚äº†ã‚³ãƒ¼ãƒ‰ãŒå¤‰ã‚ã‚‹"
emoji: "ğŸ–¥"
type: "tech"
topics: ["ShellScript", "Bash"]
published: true
---

# æ¤œè¨¼

æ¡ä»¶å¼ã ã‘ã‚’å˜ä½“ã§æ›¸ãã€ãã®å¾Œã®çµ‚äº†ã‚³ãƒ¼ãƒ‰ã®å¤‰åŒ–ã‚’è¦‹ã¦ã¿ã‚‹ã€‚

```bash:exit_code.sh
echo exit code is $? at first

[[ 'A' == 'A' ]]

echo exit code is $? after matched

[[ 'A' == 'B' ]]

echo exit code is $? after not matched
```

# çµæœ

ãƒãƒƒãƒã«å¤±æ•—ã—ãŸå¾Œã®çµ‚äº†ã‚³ãƒ¼ãƒ‰ãŒã€ã‚¨ãƒ©ãƒ¼ã‚’ç¤ºã™ `1` ã«å¤‰ã‚ã£ã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚‹ã€‚

```bash:exit_code.sh
$ bash exit_code.sh

exit code is 0 at first
exit code is 0 after matched
exit code is 1 after not matched
```

# ã‚³ãƒ¼ãƒ‰çš„è§£æ±ºç­–

ã€Œif æ–‡ã‚’æ›¸ããŸããªã„ã€`&&` ã§ã¤ãªã’ã¦ç°¡æ½”ã«æ›¸ããŸã„ã€ã¨ã„ã†å ´åˆã¯ã€æœ€å¾Œã« `|| true` ã‚’å…¥ã‚Œã¦ã‚ã’ã‚Œã°è‰¯ã•ãã†ã€‚

```bash:i_want_simple_syntax.sh
[[ $WORD == 'A' ]] && echo 'WORD is A' || true
[[ $WORD == 'B' ]] && echo 'WORD is B' || true

echo exit code is $?
```

# çµæœ

```bash
$ WORD=A bash i_want_simple_syntax.sh

WORD is A
exit code is 0
```

# if æ–‡ã®ä¸­ã§ã®æ¤œè¨¼

ã§ã¯ã€ if æ–‡ã®ä¸­ã§ã¯ã©ã†ãªã‚‹ã®ã ã‚ã†ã€‚


```bash:exit_code_in_if.sh
echo exit code is $? at first

if [[ 'A' == 'A' ]]
then
  echo exit code is $? in matched if 
fi

echo exit code is $? after matched if

if [[ 'A' == 'B' ]]
then
  echo a is b
else
  echo exit code is $? in not matched else
fi

echo exit code is $? after not matched if
```

# çµæœ

ã“ã®å ´åˆã¯ã€Œãƒãƒƒãƒã—ãªã‹ã£ãŸåˆ¤å®šã® else ã®ä¸­ã€ã§ã ã‘ã€çµ‚äº†ã‚³ãƒ¼ãƒ‰ãŒå¤‰ã‚ã£ã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚‹ã€‚

ã©ã†ã‚„ã‚‰ if ã¯çµ‚äº†ã‚³ãƒ¼ãƒ‰ã®å¤‰åŒ–ã‚’ã€Œé–‰ã˜è¾¼ã‚ã¦ã€ãã‚Œã‚‹ã‚‰ã—ã„ã€‚
ã¨ã„ã†ã‚ˆã‚Šã€ãã®ä»•çµ„ã‚’åˆ©ç”¨ã—ãŸã®ãŒã€ãã‚‚ãã‚‚ `if / then / else` ãªã®ã‹ã‚‚ã€‚

```bash
$ exit_code_in_if.sh

exit code is 0 at first
exit code is 0 in matched if
exit code is 0 after matched if
exit code is 1 in not matched else
exit code is 0 after not matched if
```

# ç’°å¢ƒ

- bash 3.2

# å‚è€ƒ

- [Bash: exit code of variable assignment to command substitution](http://stackoverflow.com/questions/20157938/bash-exit-code-of-variable-assignment-to-command-substitution)








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


