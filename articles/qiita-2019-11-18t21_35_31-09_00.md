---
title: "#docker ã® volume ã¨ mount ã®åŸºæœ¬ãŒåˆ†ã‹ã‚‰ãªã„ ( docker run ã§ã‚ãã¼ )"
emoji: "ğŸ–¥"
type: "idea"
topics: ["Docker"]
published: true
---

ä»Šã•ã‚‰ãªãŒã‚‰åˆ†ã‹ã£ã¦ãªã‹ã£ãŸã€‚
ã ã„ãŸã„docker-compose ã¨ã‹ã§ã‚„ã£ã¡ã‚ƒã†ã˜ã‚ƒãªã„ã§ã™ã‹ã€ã¯ã„ã€‚

ç’°å¢ƒã¯docker for mac

# ã¾ã¨ã‚

- `-v host:guest` ã§ volume ã‚’æŒ‡å®šã™ã‚‹
- host ã®æŒ‡å®šæ–¹æ³•ã«ã‚ˆã£ã¦ 

# docker volume

- docker volume ã‚’ `-v host:guest` ã§æŒ‡å®šã™ã‚‹
- ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ãƒã‚¦ãƒ³ãƒˆã—ã‚ˆã†ã¨ã—ã¦ã‚‚ã€ãã†ã¯ãªã‚‰ãªã„æ§˜å­

```
$ docker run --rm --name alpine-volumed -v foo:/bar -it alpine ash
/ # echo "ABC" > /bar/abc.txt
/ # exit
```

```
$ docker run --rm --name alpine-volumed -v foo:/bar -it alpine ash
/ # cat /bar/abc.txt
ABC
```

# docker inspect

- hostå´ã®çµ¶å¯¾ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ãªã‹ã£ãŸå ´åˆã¯ã€dockerçš„ãªã©ã“ã‹ã«ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¦ãã†

```
$ docker volume inspect foo
[
    {
        "CreatedAt": "2019-11-18T04:56:31Z",
        "Driver": "local",
        "Labels": null,
        "Mountpoint": "/var/lib/docker/volumes/foo/_data",
        "Name": "foo",
        "Options": null,
        "Scope": "local"
    }
]
```

Host ã«ã¯ãã‚“ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãªã„ã£ã¦ã•
éƒ¨æ´»ã‚„ã‚ã‚‹ã£ã¦ã•

```
$ ls /var/lib/docker/volumes/foo/_data
ls: /var/lib/docker/volumes/foo/_data: No such file or directory
```

# Hostã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒã‚¦ãƒ³ãƒˆã™ã‚‹

Host ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆã—ã¦ãŠã

```
$ mkdir -p ~/foo
$ cd ~/foo
$ pwd
/Users/yumainaura/foo
```

- Host ã®çµ¶å¯¾ãƒ‘ã‚¹ `/Users/yumainaura/foo` ã‚’ docker container ã® `/bar/` ã«ãƒã‚¦ãƒ³ãƒˆã™ã‚‹
- docker container ã§ãƒã‚¦ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹

```
$ docker run --rm --name alpine-volumed-on-host -v /Users/yumainaura/foo:/bar -it alpine ash
/ # echo "XYZ" > /bar/xyz.txt
```

Hostã«ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¦ã„ã„ã‚‹

```
$ cat ~/foo/xyz.txt
XYZ
```

# ãƒãƒ«ãƒ€ã§ã®ãƒ‘ã‚¹çœç•¥æŒ‡å®š - Hostã§ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã•ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

é§„ç›®ã ã‚ã†ã¨æ€ã„ Docker for Mac ã§è©¦ã—ãŸã¨ã“ã‚ã€ã“ã¡ã‚‰ã‚‚ã„ã‘ã‚‹ã‚ˆã†ã 

```
$ docker run --rm --name alpine-volumed-on-host -v ~/foo:/bar -it alpine ash
/ # echo "CTO" > /bar/cto.txt
```

```
$ cat ~/foo/cto.txt
CTO
```


# å‚è€ƒ

[ã€Dockerã€‘Dockerã§ãƒ›ã‚¹ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ãƒã‚¦ãƒ³ãƒˆã™ã‚‹ - Qiita](https://qiita.com/Yarimizu14/items/52f4859027165a805630)

# Original by Github issue

https://github.com/YumaInaura/YumaInaura/issues/2737








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


