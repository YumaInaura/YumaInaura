---
title: "#python ã® ãƒã‚¹ãƒˆã•ã‚ŒãŸè¾æ›¸ã§ KeyError ã‚’èµ·ã“ã•ãªã„ã‚ˆã†ã« defaultdict ã‚’åˆ©ç”¨ã™ã‚‹ä¾‹ ( #ruby æ¯”è¼ƒ )"
emoji: "ğŸ–¥"
type: "idea"
topics: ["Ruby", "Python"]
published: true
---

# example

- defaultdict ã‚’ä½•å±¤ã«ã‚‚ãƒã‚¹ãƒˆã—ã¦ä½¿ã£ã¦ã¿ã‚‹
- `d["x"]["y"]["z"]` ã®ã‚ˆã†ã«å­˜åœ¨ã—ãªã„ã‚­ãƒ¼ã‚’æ›¸ã„ã¦ã‚‚æ€’ã‚‰ã‚Œãªã„
- ã‚‚ã—ã‹ã—ãŸã‚‰è‰¯ã„å­ã¯çœŸä¼¼ã—ã¡ã‚ƒãƒ€ãƒ¡ã‹ã‚‚ã—ã‚Œãªã„

```py
>>> from collections import defaultdict
>>> d = defaultdict(lambda: defaultdict(lambda: defaultdict(lambda: 0)))
>>> d["a"]["b"]["c"] = 1
>>> d["a"]["b"]["c"]
1
>>> d["x"]["y"]["z"]
0
```

# ruby ã§æ›¸ããªã‚‰

ã“ã‚“ãªæ„Ÿã˜ã ã£ãŸã‹ãªã€‚ã“ã¡ã‚‰ã‚‚è‰¯ã„å­ã¯ãƒãƒã—â€¥ã€‚

```rb
[27] pry(main)> h = Hash.new(Hash.new(Hash.new(0)))
=> {}
[28] pry(main)> h["a"]["b"]["c"] = 1
=> 1
[29] pry(main)> h["a"]["b"]["c"]
=> 1
[30] pry(main)> h["x"]["y"]["z"]
=> 0
```

# ref

[Python defaultdict ã®ä½¿ã„æ–¹ - Qiita](https://qiita.com/xza/items/72a1b07fcf64d1f4bdb7)

# Original by Github issue

https://github.com/YumaInaura/YumaInaura/issues/1284








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


