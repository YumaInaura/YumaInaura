---
title: "Mac OS ã§ ssh ã‚µãƒ¼ãƒãƒ¼ã‚’è¸ã¿å°ã«ã—ã¦ SOCK ãƒ—ãƒ­ã‚¯ã‚·çµŒç”±ã§ Web ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ä¾‹ ( #Mac #ssh )"
emoji: "ğŸ–¥"
type: "tech"
topics: ["Mac", "SSH"]
published: true
---

# ssh ã‚³ãƒãƒ³ãƒ‰ã§ãƒ—ãƒ­ã‚¯ã‚·ã‚’èµ·å‹•ã™ã‚‹

- é€šå¸¸ã®sshã‚³ãƒãƒ³ãƒ‰ã¨åŒã˜ã‚ˆã†ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼åã€æ¥ç¶šå…ˆã®ãƒ›ã‚¹ãƒˆã€ç§˜å¯†éµãªã©ã‚’æŒ‡å®šã§ãã‚‹ã€‚
- é€”ä¸­ã§ç”»é¢ãŒæ­¢ã¾ã‚‹ãŒã€èµ·å‹•ã—ãŸã¾ã¾ã«ã—ã¦ãŠãã€‚ãƒ—ãƒ­ã‚¯ã‚·ã‚µãƒ¼ãƒãƒ¼ã¿ãŸã„ãªæ‰±ã„ãªã®ã§ã€èµ·å‹•ã—ãŸã¾ã¾ãŒæ­£ã—ã„ã€‚

```
ssh -vND 8888 user@xxx.xxx.xxx.xxx
```

```
ssh -vND 8888 user@xxx.xxx.xxx.xxx -i ~/.ssh/some.pem
```

# Macã®è¨­å®š

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ > è©³ç´°è¨­å®š ã«é€²ã‚€**

![image](https://user-images.githubusercontent.com/13635059/67990081-247da580-fc78-11e9-87f0-418df0c2c339.png)

![image](https://user-images.githubusercontent.com/13635059/67990090-2a738680-fc78-11e9-8820-8476dfbcc550.png)

**ãƒ—ãƒ­ã‚¯ã‚·ã®ã‚¿ãƒ–**

SOCKS proxy ã« localhost ã¨ ssh ã‚³ãƒãƒ³ãƒ‰ã§æŒ‡å®šã—ãŸãƒãƒ¼ãƒˆç•ªå· ã‚’å…¥åŠ›ã™ã‚‹ã€‚

http proxy  ã‚„ https proxy ã§ã¯å‹•ã‹ãªã„ã®ã§æ³¨æ„ã€‚

![image](https://user-images.githubusercontent.com/13635059/67990159-63136000-fc78-11e9-9306-cd43b2b5855f.png)

OK ã‚’æŠ¼ã—ã¦ Apply ã‚’æŠ¼ã™ã€‚
Macã®ã“ã®ç”»é¢ã£ã¦ã€Applyã‚’å¿˜ã‚ŒãŒã¡ãªã®ã§å¿˜ã‚Œãšã«ã€‚

# GoogleChrome ãªã©ã§Webã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹

IPã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå¤‰ã‚ã£ã¦ã„ã‚‹ã®ã‚’ç¢ºèªã™ã‚‹ã€‚

[ç¢ºèªãã‚“](https://www.ugtop.com/spill.shtml)


![image](https://user-images.githubusercontent.com/13635059/67990252-b5ed1780-fc78-11e9-919e-c6db4f7b91cc.png)

# ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã¯ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ãŒæµã‚Œã¦ãã‚‹

![image](https://user-images.githubusercontent.com/13635059/67990309-dae18a80-fc78-11e9-88bc-645402b0bfb3.png)

# ä»–ã®ã‚¢ãƒ—ãƒªã§ã‚‚è©¦ã—ã¦ã¿ã‚‹

OSãƒ¬ãƒ™ãƒ«ã§proxyã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã®ã§ã€ã©ã®ã‚¢ãƒ—ãƒªã§ã‚‚proxyçµŒç”±ã§ã®ã‚¢ã‚¯ã‚»ã‚¹ã«ãªã‚Šã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°ãŒæµã‚Œã¦ãã‚‹ã€‚

# çµ‚äº†æ–¹æ³•

Settings > Network > Advanced > Proxy ã®ã‚¿ãƒ–ã§ ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’å¤–ã—ã¦ OK > Apply ã™ã‚‹

![image](https://user-images.githubusercontent.com/13635059/67990400-28f68e00-fc79-11e9-83de-a7976a68c65e.png)


# ã‚³ãƒãƒ³ãƒ‰è§£èª¬

`ssh -v`

é¥’èˆŒãƒ¢ãƒ¼ãƒ‰ã€‚æœ¬ä½“å‹•ä½œã«ã¯é–¢ä¿‚ãªã„ã€‚ãƒ­ã‚°ã‚’ç´°ã‹ãè¡¨ç¤ºã—ã¦ãã‚Œã‚‹ã‹ã‚‰å‹•ä½œãŒåˆ†ã‹ã‚Šã‚„ã™ããªã‚‹ã€‚

```
$ man ssh | cat | grep -A 10 '\-v'
     -v      Verbose mode.  Causes ssh to print debugging messages about its
             progress.  This is helpful in debugging connection, authentica-
             tion, and configuration problems.  Multiple -v options increase
             the verbosity.  The maximum is 3.
```

**ssh -N**

ãƒªãƒ¢ãƒ¼ãƒˆãƒ›ã‚¹ãƒˆã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãªã„ã€‚port forwadingã«ãŠã™ã™ã‚ã‚‰ã—ã„ã€‚

```
$ man ssh | cat | grep -A 10 '\-N'
     -N      Do not execute a remote command.  This is useful for just for-
             warding ports.

```

**ssh -D**

portã«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãƒã‚¤ãƒ³ãƒ‰ã™ã‚‹ã€‚

```
$ man ssh | cat | grep -A 10 '\-D'
     -D [bind_address:]port
             Specifies a local ``dynamic'' application-level port forwarding.
             This works by allocating a socket to listen to port on the local
             side, optionally bound to the specified bind_address.  Whenever a
             connection is made to this port, the connection is forwarded over
             the secure channel, and the application protocol is then used to
             determine where to connect to from the remote machine.  Currently
             the SOCKS4 and SOCKS5 protocols are supported, and ssh will act
             as a SOCKS server.  Only root can forward privileged ports.
             Dynamic port forwardings can also be specified in the configura-
             tion file.
```

# å‚è€ƒ

[Setting up a SOCKS proxy in Mac OS X [StartupCTO]](http://www.startupcto.com/server-tech/macosx/setting-up-a-socks-proxy-in-mac-osx)

>Configure Proxy Settings - OS Level
>Now, go into your Network Control Panel, and then 'Advancedâ€¦' â†’ 'Proxies'. Set the SOCKS Proxy (only) with your proxy settings: localhost / 8888. You DO NOT want to set the HTTP proxy, HTTPS proxy, etc.

# ä¸€æ–¹ãã®é ƒã€å¤§å‚æ¢…ç”°ã§ã¯ç¨²å·æ·³äºŒã®è¦³è¦§è»ŠãŒå›ã£ã¦ã„ãŸ

proxyã‚µãƒ¼ãƒãƒ¼ã‚’ç«‹ã¦ã¦ã„ãŸãŒãŸã‚ã«ã€å¦™ãªportã§æ¥ç¶šã—ã¦ã—ã¾ã£ãŸã®ã‹ã€ç•°ä¸–ç•Œã®è¸ã¿å°ã«é€£ã‚Œã‚‰ã‚Œã¦ã„ã£ãŸç”·ãŒã²ã¨ã‚Šã€ã„ãªã‹ã£ãŸã¨ã‹ã€ã„ãŸã¨ã‹ã€ã„ãªã‹ã£ãŸã¨ã‹ã€‚

![image](https://user-images.githubusercontent.com/13635059/67990840-76272f80-fc7a-11e9-92df-426352900dd2.png)


# Original by Github issue

https://github.com/YumaInaura/YumaInaura/issues/2648








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


