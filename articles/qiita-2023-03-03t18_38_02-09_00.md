---
title: Nuxt3 / Vue3 â€“ util ã§ Fetch ã®å‡¦ç†ã‚’å…±é€šåŒ–ã™ã‚‹ 
emoji: "ğŸ–¥"
type: "idea"
topics: ["Vue.js", "Nuxt"]
published: true
---

# å†…å®¹

- utils ã«å…±é€šå‡¦ç†ã‚’ç½®ã„ã¦ Vue ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‘¼ã³å‡ºã™
-  fetch ã®çµæœã¨ã—ã¦ å‘¼ã³å‡ºã—å´ã® data ã‚’æ›¸ãæ›ãˆã‚‹ã«ã¯ then ã®ä¸­ã§å‡¦ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€ å…±é€šé–¢æ•°ã®å¼•æ•°ã¨ã—ã¦ data ã‚’æ¸¡ã—ã¦ã—ã¾ã†

# å‘¼ã³å‡ºã—å´

`Foo.vue`

```vue
<script lang="ts" setup>

const errors = ref([])
const result = ref([])

fetchFoo({result: result, errors: errors})

</script>
```

# Util

`utils/fetchFoo.ts`

```ts
export const fetchFoo = ({result: result, errors: errors}) => {
  let httpStatus = 0

  const fetchURL = new URL(`/path/to/api`)

  const fetched = fetch(fetchURL, {
    method: "GET",
    headers: {
      'Content-Type': 'application/json',
    },
  })
    .then((response) => {
      httpStatus = response.status
      return response.json()
    })
    .then((response_json) => {
      if (httpStatus == 200) {
        result.value = response_json["result"]
      } else if (response_json['errors']) {
        errors.value = response_json['errors']
      } else {
        errors.value = ["ãƒ‡ãƒ¼ã‚¿å–å¾—ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ"]
      }
    })
    .catch((_error) => errors.value = ["æ¥ç¶šã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ"]);
}
```


# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ


# Twitter

https://twitter.com/YumaInaura

