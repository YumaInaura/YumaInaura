---
title: "Zappier ã§ Github Issue ä½œæˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦ã€pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰Googleç¿»è¨³APIã‚’å©ãã€ç¿»è¨³æ¸ˆã¿ã®æ–°ã—ã„"
emoji: "ğŸ–¥"
type: "tech"
topics: ["Python", "GitHub", "Google", "API", "zapier"]
published: true
---

Zappier ã§ Github Issue ä½œæˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã—ã¦ã€pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰Googleç¿»è¨³APIã‚’å©ãã€ç¿»è¨³æ¸ˆã¿ã®æ–°ã—ã„Github Issue ã‚’ä½œæˆã™ã‚‹ä¾‹ã€‚æ—¥æœ¬èªã‹ã‚‰è‹±èªã¸ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€‚

# è£œè¶³

Google ã®ãƒˆãƒ¼ã‚¯ãƒ³ã®æœ‰åŠ¹æœŸé™ãªã©ã¯ç¢ºèªã—ã¦ã„ãªã„ã€‚ã¨ã‚Šã‚ãˆãšå‹•ã„ãŸã€‚

# Googleç¿»è¨³APIç”¨ã« GCP ã®èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ã¦ãŠã

[Google Cloud ã®èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ gcloud ã‚³ãƒãƒ³ãƒ‰ã§å–å¾—ã™ã‚‹ã€‚ç’°å¢ƒå¤‰æ•°ã§ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹ä¾‹ã€‚ Â· Issue #545 Â· YumaInaura/YumaInaura](https://github.com/YumaInaura/YumaInaura/issues/545)

# Issue ä½œæˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã™ã‚‹

![image](https://user-images.githubusercontent.com/13635059/52161371-86b87280-2707-11e9-866a-5260655d30bf.png)

# Code By Zapier 

Github ã® title ã¨ description ã‚’ å…¥åŠ›ãƒªã‚½ãƒ¼ã‚¹ã«æŒ‡å®šã™ã‚‹

![image](https://user-images.githubusercontent.com/13635059/52161410-e9117300-2707-11e9-8e73-ac194f9e3c8f.png)



# Script

å…ˆç¨‹å–å¾—ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã«åŸ‹ã‚è¾¼ã‚€
Google ç¿»è¨³ã§ MarkdownãŒå´©ã‚Œã‚‹ã®ã§ã€pythonã§é©å½“ã«æ•´å½¢ã€‚

```py
import requests
import re

data = {
  'q': [
        input["title"],
        input["body"],
    ],
  'source': 'ja',
  'target': 'en',
  'format': 'text'
}

url = 'https://translation.googleapis.com/language/translate/v2'
token = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'

headers = {
 'Authorization': 'Bearer {}'.format(token),
 'Content-Type': 'application/json',
}

res = requests.post(url, headers=headers, json=data)

# Title
output_title = res.json()['data']['translations'][0]['translatedText']
# For twitter in English 240 upper limit characters
output_title = output_title[:200] 

# Fix Body: Image Markdown tag spaces
output_body = res.json()['data']['translations'][1]['translatedText']
output_body = re.sub(r'! \[image\] ', "![image]", output_body)


output = [
  {
    "title": output_title,
    "body": output_body
  }
]
```

# Find or Create Issue ã‚’ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«ã™ã‚‹

- ã„ã‚ã„ã‚è¨˜å…¥ã™ã‚‹
- ã€ŒGithub ISsueã‚’æ¢ã—ã¦ã€ãªã‘ã‚Œã°ä½œæˆã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã€ã¨ã„ã†è¬ã®ä»•æ§˜ãªã®ã§ã€æ¤œç´¢å¯¾è±¡ã¨ã—ã¦ã€çµ¶å¯¾ã«å…¥åŠ›ã—ãªã„ã‚ˆã†ãª Search value ã‚’æŒ‡å®šã—ã¦ãŠãã€‚

![image](https://user-images.githubusercontent.com/13635059/52161437-3e4d8480-2708-11e9-93d5-fd04c6c93de2.png)

![image](https://user-images.githubusercontent.com/13635059/52161442-43aacf00-2708-11e9-8ecd-1ecc955ccac5.png)

# çµæœ

https://github.com/YumaInaura/issue/issues/63

![image](https://user-images.githubusercontent.com/13635059/52161460-79e84e80-2708-11e9-9857-3bcb74853452.png)

ç”»åƒã‚‚ãƒãƒƒãƒãƒª

![image](https://user-images.githubusercontent.com/13635059/52161462-81a7f300-2708-11e9-9a50-d35b8e808d57.png)




# ãŠã¾ã‘ã€‚å¿…è¦ãªã‚‰ Zapier ã® Detect Language / Only Continue if ã§ã€æ—¥æœ¬èªåˆ¤å®šã•ã‚ŒãŸå ´åˆã«ã ã‘ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒèµ°ã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã€‚

![image](https://user-images.githubusercontent.com/13635059/52161375-9637bb80-2707-11e9-9f05-b21c336e5fb3.png)


# Original by Github issue

https://github.com/YumaInaura/YumaInaura/issues/548








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


