---
title: "Goè¨€èªã®delve  ã§ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’è¨­å®šã—ã¦ãƒ‡ãƒãƒƒã‚°å®Ÿè¡Œã™ã‚‹ ( #go / dlv cli / dlv debug / set b"
emoji: "ğŸ–¥"
type: "tech"
topics: ["Go"]
published: true
published_at: 2020-03-16t15:18
---

# ãƒ•ã‚¡ã‚¤ãƒ«

ã“ã‚“ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹å ´åˆ

```go
package main

import (
	"fmt"
)

func main() {
	fmt.Println("A")
	fmt.Println("B")
	fmt.Println("C")
	fmt.Println("D")
	fmt.Println("E")

	foo()
}

func foo() {
	value := "FOO"
	fmt.Println(value)
}
```

# delveã®å®Ÿè¡Œ


go run ã¿ãŸã„ã«ãƒ•ã‚¡ã‚¤ãƒ«åã‚’æŒ‡å®šã—ã¦å®Ÿè¡Œã™ã‚‹

```
dlv debug go/dlv/main.go
```

# ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã®æŒ‡å®š

ãƒ•ã‚¡ã‚¤ãƒ«å+è¡Œæ•°æŒ‡å®šã§3ã¤ã®ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’æŒ‡å®šã—ã¦ã¿ã‚‹

ä¾‹: `break main.go:9`

```
(dlv) break main.go:8
Breakpoint 1 set at 0x10c23af for main.main() ./go/dlv/main.go:8
(dlv) break main.go:10
Breakpoint 2 set at 0x10c2485 for main.main() ./go/dlv/main.go:10
```

# å®Ÿè¡Œ

continue ã™ã‚‹ã¨ã€ã²ã¨ã¤ãšã¤é€²ã‚ã‚‹ï¼
ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã®æ®‹ã‚ŠãŒãªããªã‚Šã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå‡¦ç†ã‚’å®Œäº†ã™ã‚‹ã¨ã€çµ‚äº†ã™ã‚‹ã€‚

```
(dlv) continue
> main.main() ./go/dlv/main.go:8 (hits goroutine(1):1 total:1) (PC: 0x10c23af)
     3:	import (
     4:		"fmt"
     5:	)
     6:
     7:	func main() {
=>   8:		fmt.Println("A")
     9:		fmt.Println("B")
    10:		fmt.Println("C")
    11:		fmt.Println("D")
    12:		fmt.Println("E")
    13:
(dlv) continue
A
B
> main.main() ./go/dlv/main.go:10 (hits goroutine(1):1 total:1) (PC: 0x10c2485)
     5:	)
     6:
     7:	func main() {
     8:		fmt.Println("A")
     9:		fmt.Println("B")
=>  10:		fmt.Println("C")
    11:		fmt.Println("D")
    12:		fmt.Println("E")
    13:
    14:		foo()
    15:	}
(dlv) continue
C
D
E
FOO
Process 54908 has exited with status 0

```

# å†å®Ÿè¡Œ

restart ã§æœ€åˆã‹ã‚‰å®Ÿè¡Œã§ãã‚‹ï¼

```
(dlv) restart
Process restarted with PID 54942

```

ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’ã™ã¹ã¦ã‚¯ãƒªã‚¢ã™ã‚‹

```
(dlv) clearall
Breakpoint 1 cleared at 0x10c23af for main.main() ./go/dlv/main.go:8
Breakpoint 2 cleared at 0x10c2485 for main.main() ./go/dlv/main.go:10
```

function + è¡Œæ•°æŒ‡å®šã§ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’è¨­å®šã™ã‚‹

```
(dlv) break foo:2
Breakpoint 3 set at 0x10c2616 for main.foo() ./go/dlv/main.go:19
```

```
(dlv) continue
A
B
C
D
E
> main.foo() ./go/dlv/main.go:19 (hits goroutine(1):1 total:1) (PC: 0x10c2616)
    14:		foo()
    15:	}
    16:
    17:	func foo() {
    18:		value := "FOO"
=>  19:		fmt.Println(value)
    20:	}
```

å¤‰æ•°ã®ä¸­èº«ã‚’è¡¨ç¤ºã—ã¦ã¿ã‚‹
Goè¨€èªã®æ–‡æ³•ãŒä½¿ãˆã‚‹ã‚ã‘ã˜ã‚ƒãªãã¦ CLI ã®ã‚³ãƒãƒ³ãƒ‰ã§è¡¨ç¤ºã•ã›ã‚‹ã¿ãŸã„ã 

```
(dlv) print value
"FOO"
```

# ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã®æŒ‡å®šæ–¹æ³•

ã„ãã¤ã‹ã‚ã‚‹ã¿ãŸã„ã ã€‚


[delve/locspec.md at master Â· go-delve/delve](https://github.com/go-delve/delve/blob/master/Documentation/cli/locspec.md)

(ã“ã“ã«æ›¸ã„ãŸã‚„ã‚Šæ–¹ã ã¨ã€ãªãœã‹current file ã‚’èªè­˜ã—ã¦ãã‚Œã¦ã„ãªã„ãŒã€ã¾ã ä½¿ã„å§‹ã‚ãŸã°ã‹ã‚Šãªã®ã§ã‚ˆãåˆ†ã‹ã£ã¦ã„ãªã„)

# å‚è€ƒ

[Golangã®ãƒ‡ãƒãƒƒã‚¬delveã®ä½¿ã„æ–¹ - Qiita](https://qiita.com/minamijoyo/items/4da68467c1c5d94c8cd7)

# Original by Github issue

https://github.com/YumaInaura/YumaInaura/issues/3032








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->



# å…¬é–‹æ—¥æ™‚

2020-03-16
