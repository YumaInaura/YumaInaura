---
title: "td-agent ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ debug ã—ã¦ã¿ã‚‹ ( docker + ubuntu )"
emoji: "ğŸ–¥"
type: "tech"
topics: ["td-agent", "Docker"]
published: true
published_at: 2018-06-23t00:46
---

## dockerã‚³ãƒ³ãƒ†ãƒŠã‚’ä½¿ã†å ´åˆã®ä¾‹

```
docker run -it ubuntu:16.04 /bin/bash
```

## è‰²ã€…ã¨å…¥ã‚Œã‚‹

```
apt-get update && apt-get install -y curl sudo vim
```

## td-agentã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```
curl -L https://toolbelt.treasuredata.com/sh/install-ubuntu-xenial-td-agent2.sh | sh
```

[Installing Fluentd Using deb Package | Fluentd](https://docs.fluentd.org/v0.12/articles/install-by-deb)

## td-agentã‚’èµ·å‹•

```
td-agent
```

## debugã—ã¦ã¿ã‚‹


`docker exec` ã§äºŒçª“ã™ã‚‹ãªã©ã—ã¦ã€‚
`/etc/td-agent/td-agent.conf` ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’å‚è€ƒã«debugã‚’å©ãã€‚

```
curl -X POST -d 'json={"foo":"bar"}' http://localhost:8888/debug.txt
```

## çµæœ

td-agentèµ·å‹•ä¸­ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«æ¨™æº–å‡ºåŠ›ã•ã‚Œã‚‹

```
2018-06-22 15:39:59 +0000 debug.txt: {"foo":"bar"}
```

# ç’°å¢ƒ

- td-agent 0.12.40
- Ubuntu 16.04.4 LTS (Xenial Xerus)
- Docker version 18.03.1-ce, build 9ee9f40








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->



# å…¬é–‹æ—¥æ™‚

2018-06-23
