---
title: Rails | shoulda-matchers ã§ Boolean å‹ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ¤œè¨¼ã§ããªã„
emoji: "ğŸ–¥"
type: "idea"
topics: ["Ruby", "Rails", "RSpec", "ActiveRecord"]
published: true
---

# å•é¡Œ

ã“ã‚“ãªãƒ¢ãƒ‡ãƒ«ãŒã‚ã‚‹ã¨ã

```rb
class Example < ActiveRecord::Base
  validates :Active, inclusion: { in: [ACTIVE_TYPES] }
end
```

Rspec ã§ Booleanå‹ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ¤œè¨¼ã—ã‚ˆã†ã¨ã™ã‚‹ã¨

```rb
require 'rails_helper'

RSpec.describe Example, type: :model do
  it { is_expected.to validate_inclusion_of(:Active).in_array([true, false])  }
end
```

ãƒ†ã‚¹ãƒˆã®å‰Šé™¤ã‚’ã†ãªãŒã™è­¦å‘ŠãŒå‡ºã‚‹ã€‚

```
Warning from shoulda-matchers:

You are using `validate_inclusion_of` to assert that a boolean column
allows boolean values and disallows non-boolean ones. Be aware that it
is not possible to fully test this, as boolean columns will
automatically convert non-boolean values to boolean ones. Hence, you
should consider removing this test.
```

# ç†ç”±

ã€ŒActiveRecord ãŒä½•ã§ã‚‚ Blooleanå‹ã«ã—ã¦ã—ã¾ã†ã®ã§ã€çµå±€ãœã‚“ã¶ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã‹ã‚‰æ„å‘³ãªã„ã‚ˆã€ã£ã¦ã“ã¨ã£ã½ã„ï¼Ÿ

```rb
Example.new(Active: 1)
# => #<Example:0x007f9f996fbe00 Active: true>

Example.new(Active: true)
# => #<Example:0x007f9f9b16f908 Active: true>

Example.new(Active: false)
# => #<Example:0x007f9f9cc92618 Active: false>

Example.new(Active: nil)
# => #<Example:0x007f9f9b1ce318 Active: nil>

Example.new(Active: 1)
# => #<Example:0x007f9f9cd7c9c0 Active: true>

Example.new(Active: 2)
# => #<Example:0x007f9f9daa34f0 Active: false>

Example.new(Active: 'TEXT')
# => #<Example:0x007f9f9cded3c8 Active: false>

```



# ç’°å¢ƒ

-  shoulda-matchers (3.1.1)
- Rails 4.2.7.1

# å‚è€ƒ

- https://github.com/stympy/faker/issues/714








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


