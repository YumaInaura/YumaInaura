---
title: "google-api-ruby-client | GoogleCloud.client.bigquery.query ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆåˆ¶é™ã‚’è¶Šãˆ"
emoji: "ğŸ–¥"
type: "tech"
topics: ["Ruby", "Gem", "BigQuery"]
published: true
published_at: 2016-11-22t18:16
---

# å•é¡Œ

æ™®é€šã«ã‚¯ã‚¨ãƒªã‚’ç™ºè¡Œã™ã‚‹ã¨ã€å…¨ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒå¾—ã‚‰ã‚Œãªã‹ã£ãŸã‚Šã™ã‚‹ã€‚

å¤§ããªãƒ¬ã‚³ãƒ¼ãƒ‰æ•°ã®ã‚ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã€‚

```rb
GoogleCloud.client.bigquery.query('SELECT * FROM bq_dataset.table_name')
# => [{"rows"=>10601344}]
```

ã ãŒã‚¯ã‚¨ãƒªã‚’ç™ºè¡Œã™ã‚‹ã¨ã€ã™ã¹ã¦ã®çµæœãŒå¾—ã‚‰ã‚Œãªã„ã€‚

```rb
records = GoogleCloud.client.bigquery.query('SELECT * FROM bq_dataset.table_name LIMIT 100000')
records.size # => 35000
```

ä½•æ•…ã‹ä¸­é€”åŠç«¯ãªæ•°å­—ã§è¿”ã£ã¦ãã‚‹ã€‚
å…ƒã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚ˆã£ã¦å¾—ã‚‰ã‚Œã‚‹ãƒ¬ã‚³ãƒ¼ãƒ‰æ•°ãŒé•ã†ã€‚ãƒã‚¤ãƒˆæ•°åˆ¶é™ã¨ã‹ï¼Ÿ

# è§£æ±º

`.all` ã‚’ä»˜ã‘ã‚‹ã€‚
é…åˆ—ã§ã¯ãªãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§è¿”ã£ã¦ãã‚‹ã‚ˆã†ã«ãªã‚‹ã®ã§æ³¨æ„ã€‚

```rb
records = GoogleCloud.client.bigquery.query('SELECT * FROM bq_dataset.table_name LIMIT 100000').all
records.to_a.size # => 100000
```


# ç’°å¢ƒ

- ruby 2.3.1
- google-api-client (0.9.13)

# å‚è€ƒ

- https://github.com/GoogleCloudPlatform/google-cloud-ruby/blob/f017e3798072ba1b284b0e812bcb79a0f90feb48/google-cloud-bigquery/lib/google/cloud/bigquery/service.rb








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->



# å…¬é–‹æ—¥æ™‚

2016-11-22
