---
title: "Error: net::ERR_CONNECTION_REFUSED : #Docker + #Rails ç’°å¢ƒã§ public ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆ"
emoji: "ğŸ–¥"
type: "idea"
topics: ["Rails", "Docker"]
published: true
---

# NOTE

- curl ã§ã¯ rails ã® public ãª URL ã«æ¥ç¶šã§ãã‚‹çŠ¶æ…‹ã€‚
- rails ã® publiic directory ã« HTML file ã‚’è¨­ç½®ã—ã¦ã€headless chrome ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦PDFå¤‰æ›ã—ã‚ˆã†ã¨ã—ãŸã¨ãã€‚( http://localhost:3000/some.html )
- chrome ã§ã¯ localhost ãŒ 127.0.0.1 ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ãŠã‚‰ãšã€localhost ãŒä½¿ãˆãªã„å ´åˆãŒã‚ã‚Šãã†ã ãŒè©³ã—ãã¯æœªç¢ºèªã€‚ http://127.0.0.1:3000/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã•ã›ã‚‹ã¨è‰¯ã„ã‹ã‚‚ã€‚
- æœ€åˆ node + puppeter ã‚’é€šã—ã¦å®Ÿè¡Œã•ã›ã¦ã„ãŸãŒã€ ã©ã†ã‚„ã‚‰ chrome æœ¬ä½“ã®å‡¦ç†ã§å•é¡ŒãŒèµ·ãã¦ã„ãã†ã ã£ãŸã€‚
- http://127.0.0.1:3000/some.html ã«æ¥ç¶šã—ã¦ã‚‚å‹•ã‹ãš `Error: net::ERR_CONNECTION_REFUSED` ãŒèµ·ã“ã‚‹ã“ã¨ãŒã‚ã£ãŸ
- docker container ã§ hostname -i ã—ãŸçµæœã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã«å¯¾ã—ã¦ chrome ã‚’ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨å‹•ãã‚±ãƒ¼ã‚¹ãŒã‚ã£ãŸã€‚ ( http://172.26.0.1:3000/some.html )

# ã‚³ãƒãƒ³ãƒ‰ä¾‹

```
chromium-browser --headless --no-sandbox --disable-gpu --print-to-pdf http:/xxx/
google-chrome-stable --headless --no-sandbox --disable-gpu --print-to-pdf http:/xxx/
```

# å‚è€ƒ

[ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ Chrome ã“ã¨ã¯ã˜ã‚ Â |Â  Web Â |Â  Google Developers](https://developers.google.com/web/updates/2017/04/headless-chrome?hl=ja)

# Original by Github issue

https://github.com/YumaInaura/YumaInaura/issues/2752








<!-- Update From Qiita API -->

# ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†


ä½•ã‹è³ªå•ã€æ‚©ã¿äº‹ã€ç›¸è«‡ãªã©ã‚ã‚Œã°LINEã‚ªãƒ¼ãƒ—ãƒ³ãƒãƒ£ãƒƒãƒˆã‚‚ã”åˆ©ç”¨ãã ã•ã„ã€‚

https://line.me/ti/g2/eEPltQ6Tzh3pYAZV8JXKZqc7PJ6L0rpm573dcQ





# Twitter


https://twitter.com/YumaInaura


<!-- Update From Qiita API -->


